# 기능 문서 작성 지침

## 📝 문서화 원칙

### 1. 계층적 문서 구조

```
README.md (메인, 간결)
├─ 기능 요약 (각 3-5줄)
├─ 빠른 시작 (핵심만)
└─ 상세 문서 링크

FEATURE_NAME_GUIDE.md (상세)
├─ 개요
├─ 빠른 시작
├─ 상세 설정
├─ 고급 사용법
├─ 문제 해결
└─ 실전 시나리오
```

### 2. README.md 작성 규칙

**DO** ✅:
- 각 기능을 **3-5줄**로 요약
- 빠른 시작 코드 (3분 이내)
- 상세 문서로 링크
- 전체 크기 **300줄 이하**

**DON'T** ❌:
- 1,000줄 넘는 README
- 모든 옵션을 README에 나열
- 중복된 설명

### 3. 예시

**Bad** ❌:
```markdown
# DB 모니터링

## 느린 쿼리 감지

느린 쿼리 감지는... (100줄 설명)

### 설정 방법
임계값은... (50줄)

### 옵션 목록
- option1: ... (30줄)
- option2: ... (30줄)

## 특정 쿼리 지정
특정 쿼리 지정은... (100줄 설명)
...

총 1,500줄
```

**Good** ✅:
```markdown
# DB 모니터링

## 📊 감지 항목

| 항목 | 설명 | 상세 |
|------|------|------|
| 느린 쿼리 | 실행 시간 초과 감지 | [가이드](SLOW_QUERY_GUIDE.md) |
| Lock 충돌 | 세션 차단 감지 | [가이드](LOCK_MONITOR_GUIDE.md) |

## 🚀 빠른 시작

\`\`\`bash
npm install
npm run monitor
\`\`\`

## 📚 상세 문서

- [느린 쿼리 상세 가이드](SLOW_QUERY_GUIDE.md)
- [Lock 모니터링 가이드](LOCK_MONITOR_GUIDE.md)

총 200줄
```

### 4. 상세 문서(GUIDE.md) 구조

각 GUIDE.md는 다음 구조를 따름:

```markdown
# 기능명 가이드

**핵심 질문**: "사용자가 물어볼 질문"
**답변**: 간단한 답

---

## 📌 개요 (100줄 이하)
- 기능 설명
- 사용 시나리오

## 🚀 빠른 시작 (100줄 이하)
- 3분 이내 시작 가이드
- 최소 설정

## ⚙️ 상세 설정 (200줄 이하)
- 모든 옵션 설명
- 예시

## 🔬 고급 사용법 (200줄 이하)
- 프로그래밍 방식
- 복잡한 시나리오

## 🐛 문제 해결 (100줄 이하)
- 자주 묻는 질문
- 일반적인 오류

## 🎯 실전 시나리오 (200줄 이하)
- 실제 사례
- Before/After

총 1,000줄 이하
```

### 5. 링크 전략

**README → GUIDE 링크**:
```markdown
## 느린 쿼리 감지

실행 시간 초과 쿼리를 자동 감지합니다.

**임계값**: 3초/1초/0.5초 (Critical/Warning/Info)

**상세**: [느린 쿼리 가이드](SLOW_QUERY_GUIDE.md)
```

**GUIDE → GUIDE 링크**:
```markdown
이 기능은 Lock 모니터링과 함께 사용하면 좋습니다.
자세한 내용은 [Lock 모니터링 가이드](LOCK_MONITOR_GUIDE.md)를 참고하세요.
```

### 6. 테이블 활용

복잡한 설명은 테이블로:

```markdown
| 옵션 | 기본값 | 설명 |
|------|--------|------|
| threshold | 1000 | 임계값 (ms) |
| enabled | true | 활성화 여부 |
```

### 7. 코드 블록 최소화

**README에는**:
- 핵심 코드만 (5줄 이하)

**GUIDE에는**:
- 전체 예시 코드

### 8. 이모지 사용 원칙

**사용 가능**:
- 섹션 구분: 📌 📚 🚀 ⚙️ 🔬 🐛 🎯
- 상태 표시: ✅ ❌ ⚠️

**사용 금지**:
- 문장 중간
- 과도한 사용

### 9. 파일 분리 기준

| 문서 크기 | 조치 |
|-----------|------|
| < 300줄 | 하나의 파일 유지 |
| 300-500줄 | 섹션별 앵커 링크 추가 |
| 500-1000줄 | 별도 파일로 분리 고려 |
| > 1000줄 | **반드시 분리** |

### 10. 실제 적용 예시

**이전** (DB_ALERT_GUIDE.md, 1,700줄):
```
- 모든 내용이 한 파일에
- README에도 긴 설명
- AI가 읽기 어려움
```

**개선** (현재):
```
README.md (180줄)
├─ ARCHITECTURE.md (500줄)
├─ QUERY_WATCH_GUIDE.md (600줄)
├─ LOCK_MONITOR_GUIDE.md (500줄)
└─ WEBHOOK_GUIDE.md (1,000줄)

총 2,780줄 → 5개 파일로 분리
각 파일 < 1,000줄
```

---

## 🎯 체크리스트

새 기능 추가 시:

- [ ] README에 3-5줄 요약 추가
- [ ] 빠른 시작 코드 추가 (3분 이내)
- [ ] 상세 GUIDE.md 작성 (< 1,000줄)
- [ ] GUIDE 간 링크 연결
- [ ] 실전 시나리오 포함

---

**작성일**: 2026-01-16
**적용 프로젝트**: ai-coding-rules/tools/performance-test
